(this["webpackJsonppalette-challenge"]=this["webpackJsonppalette-challenge"]||[]).push([[0],{10:function(e,t,a){},12:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),c=a(4),s=a.n(c),i=(a(9),a(2));a(10);function o(e){var t,a,r=e[0]/255,n=e[1]/255,c=e[2]/255,s=Math.max(r,n,c),i=Math.min(r,n,c),o=(s+i)/2;if(s===i)t=a=0;else{var l=s-i;switch(a=o>.5?l/(2-s-i):l/(s+i),s){case r:t=(n-c)/l+(n<c?6:0);break;case n:t=(c-r)/l+2;break;default:t=(r-n)/l+4}t/=6}return[360*t,100*a,100*o]}var l=a(0),d=function(e){var t=e.colours,a=e.segmentSize,n=e.drawWidth,c=e.drawHeight,s=e.sort,d=e.border,b=e.responseData,j=Object(r.useRef)(),h=Object(r.useState)(),u=Object(i.a)(h,2),O=u[0],m=u[1],x=Object(r.useCallback)((function(e){b(e)}),[b]);return Object(r.useEffect)((function(){if(j.current){var e=j.current.getContext("2d");e&&m(e)}if(O){var r=function(e,t,a,r){var n=0,c=0,s=0;return e.forEach((function(e){var o=Object(i.a)(e,3),l=o[0],d=o[1],b=o[2],j={x:n,y:c,width:a,height:a};t.fillStyle="RGB(".concat(l,", ").concat(d,", ").concat(b,")"),t.fillRect(j.x,j.y,j.width,j.height),s+=1,(n+=a)>=r&&(c+=a,n=0)})),s}(function(e,t){return-1===t?e:e.map((function(e,t){return{color:o(e),index:t}})).sort((function(e,a){return e.color[t]-a.color[t]})).map((function(t){return e[t.index]}))}(t,s),O,a,n);x(r)}}),[O,a,t,n,s,x]),Object(l.jsx)("div",{style:{textAlign:"center"},children:Object(l.jsx)("canvas",{id:"canvas",ref:j,width:n,height:c,style:{border:!0===d?"2px solid black":"",marginTop:20}})})};var b=function(){var e=Object(r.useState)([0,0,0]),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(4),s=Object(i.a)(c,2),o=s[0],b=s[1],j=Object(r.useState)(-1),h=Object(i.a)(j,2),u=h[0],O=h[1],m=Object(r.useState)(1024),x=Object(i.a)(m,2),f=x[0],p=x[1],g=Object(r.useState)(512),v=Object(i.a)(g,2),S=v[0],w=v[1],y=Object(r.useState)(!0),N=Object(i.a)(y,2),k=N[0],C=N[1],L=Object(r.useState)(0),F=Object(i.a)(L,2),z=F[0],W=F[1],H=function(e){"segmentSize"===e.target.name?b(parseInt(e.target.value)):"drawWidth"===e.target.name&&p(parseInt(e.target.value))},M=function(e){O(parseInt(e.target.dataset.sort))};return Object(r.useEffect)((function(){n(function(){for(var e=[],t=8;t<=256;t+=8)for(var a=8;a<=256;a+=8)for(var r=8;r<=256;r+=8)e.push([t,a,r]);return e}())}),[]),Object(r.useEffect)((function(){var e=Math.floor(32768/Math.floor(f/o)*o);e>2e4&&(e=2e4),w(e)}),[f,o]),Object(l.jsxs)("div",{className:"App",children:[Object(l.jsxs)("div",{className:"header",children:[Object(l.jsx)("h4",{children:"Palette Challenge"}),Object(l.jsxs)("div",{className:"controls-status-wrapper",children:[Object(l.jsxs)("div",{className:"controls",children:[Object(l.jsx)("label",{htmlFor:"segmentSize",className:"sliderLabel",children:"Size of Colour Segments"}),Object(l.jsx)("input",{type:"range",name:"segmentSize",id:"segmentSize",onChange:H,value:o,min:"1",max:"50",style:{width:400}}),Object(l.jsxs)("label",{htmlFor:"segmentSize",className:"sliderValueLabel",children:[o," px\xb2"]}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"drawWidth",className:"sliderLabel",children:"Canvas Width Limits"}),Object(l.jsx)("input",{type:"range",name:"drawWidth",id:"drawWidth",onChange:H,value:f,min:"0",max:"2048",style:{width:400}}),Object(l.jsxs)("label",{htmlFor:"drawWidth",className:"sliderValueLabel",children:[f," px"]}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{className:"optionsLabel",children:"Sorting"}),Object(l.jsx)("input",{type:"radio",name:"sortNone",id:"sortNone",onChange:M,checked:-1===u,"data-sort":-1}),Object(l.jsx)("label",{htmlFor:"sortNone",children:"None"}),Object(l.jsx)("input",{type:"radio",name:"sortHue",id:"sortHue",onChange:M,checked:0===u,"data-sort":0}),Object(l.jsx)("label",{htmlFor:"sortHue",children:"Hue"}),Object(l.jsx)("input",{type:"radio",name:"sortSaturation",id:"sortSaturation",onChange:M,checked:1===u,"data-sort":1}),Object(l.jsx)("label",{htmlFor:"sortSaturation",children:"Saturation"}),Object(l.jsx)("input",{type:"radio",name:"sortLuminosity",id:"sortLuminosity",onChange:M,checked:2===u,"data-sort":2}),Object(l.jsx)("label",{htmlFor:"sortLuminosity",children:"Luminosity"}),Object(l.jsxs)("div",{className:"borderDiv",children:[Object(l.jsx)("label",{htmlFor:"border",className:"optionsLabel",children:"Border"}),Object(l.jsx)("input",{type:"checkbox",name:"border",id:"border",onChange:function(e){C(e.target.checked)},checked:k}),Object(l.jsx)("label",{htmlFor:"border",children:"On"})]})]}),Object(l.jsxs)("div",{className:"status",children:[f,"px width x ",S,"px height",Object(l.jsx)("br",{}),z," colours",Object(l.jsx)("br",{}),2e4===S?"Max height reached!":""]})]})]}),Object(l.jsx)(d,{colours:a,segmentSize:o,drawWidth:f,drawHeight:S,sort:u,border:k,responseData:W},o+f),2e4===S?"Sorry, we have to draw the line somewhere!":""]})};s.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(b,{})}),document.getElementById("root"))},9:function(e,t,a){}},[[12,1,2]]]);
//# sourceMappingURL=main.8e93ad7a.chunk.js.map